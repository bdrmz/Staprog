<!DOCTYPE html>

<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-ar="Staprog â€“ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©" data-en="Staprog â€“ Home">Staprog</title>
  <link rel="stylesheet" href="css/style.css"/>
  <style>
    :root {
      --font-primary: 'Cairo', 'Segoe UI', Tahoma, sans-serif;
      --bg-light: #f0f4f7;
      --bg-dark: #121212;
      --text-light: #000;
      --text-dark: #e0e0e0;
      --primary: #4CAF50;
      --primary-dark: #388E3C;
      --header-bg-light: #fff;
      --header-bg-dark: #333;
      --header-text: #2E7D32;
      --shadow: rgba(0,0,0,0.1);
    }

    .user-message, .bot-message {
      background: transparent;
      align-self: flex-start;
    }
    .user-message {
      background: #dcf8c6;
      align-self: flex-end;
    }
    .bot-message {
      background: #eee;
      align-self: flex-start;
    }
    body.dark-mode .user-message {
      background: #2e7d32;
      color: white;
    }
    body.dark-mode .bot-message {
      background: #444;
      color: white;
    }
    body.dark-mode #chatbot-container {
      background: #222 !important;
      border-color: #444;
    }
    body.dark-mode #chat-header {
      background: var(--primary-dark) !important;
    }
    /* Remove input styling since send is disabled */
  </style>
</head>
<body>
  <header class="header">
    <button class="back-btn" id="back-btn" data-href="landing.html" aria-label="Ø±Ø¬ÙˆØ¹"></button>
    <img src="images/logo.png" class="logo" alt="Staprog Logo"/>
    <h1 class="header-title" data-ar="Staprog" data-en="Staprog">Staprog</h1>
    <p class="header-subtitle" data-ar="Ù…Ù…Ù„ÙƒØªÙ†Ø§ ØªØ³ØªØ§Ù‡Ù„.. Ù„Ø§ ØªØªØ³Ø§Ù‡Ù„" data-en="Our kingdom deservesâ€¦ donâ€™t compromise">
      Ù…Ù…Ù„ÙƒØªÙ†Ø§ ØªØ³ØªØ§Ù‡Ù„.. Ù„Ø§ ØªØªØ³Ø§Ù‡Ù„
    </p>
  </header>

  <div class="main-buttons">
    <button data-ar="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©" data-en="Home" id="home-btn">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <button data-ar="Ø§Ù„ØªØ³Ø¬ÙŠÙ„" data-en="Register" onclick="location.href='register.html'">Ø§Ù„ØªØ³Ø¬ÙŠÙ„</button>
    <button data-ar="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„" data-en="Login" onclick="location.href='login.html'">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    <button data-ar="Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ" data-en="Profile" onclick="location.href='user-profile.html'">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</button>
  </div>

  <div class="controls">
    <button id="lang-toggle">Ø¹Ø±Ø¨ÙŠ</button>
    <button id="theme-toggle">ğŸŒ™</button>
  </div>

  <button id="chat-toggle-btn">â“</button>

  <div id="chatbot-container" style="display:none; flex-direction:column; position:fixed; bottom:20px; right:20px; width:320px; height:auto; max-height:400px; background:#fff; border:1px solid #ccc; border-radius:8px; overflow:hidden; z-index:1000;">
    <div id="chat-header" style="background:var(--primary); color:#fff; padding:0.5rem; font-weight:bold;" data-ar="Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ¦ÙŠ" data-en="Eco Assistant">Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ¦ÙŠ</div>
    <div id="chat-messages" style="flex:1; padding:0.5rem; overflow-y:auto; height:260px;"></div>
    <div id="chat-suggestions" style="padding:0.5rem; border-top:1px solid #ccc; display:flex; flex-wrap:wrap; gap:0.5rem; height:auto; max-height:80px; overflow-y:auto;"></div>
    <!-- Removed chat input and send button -->
  </div>

  <script>
    // Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø©
    document.querySelectorAll('.back-btn').forEach(btn => btn.addEventListener('click', () => {
      const target = btn.getAttribute('data-href');
      if (target) location.href = target; else history.back();
    }));

    // Ø²Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    document.getElementById('home-btn').addEventListener('click', () => {
      location.href = 'landing.html';
    });

    // Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
    const themeToggle = document.getElementById('theme-toggle');
    if (localStorage.getItem('darkMode') === 'enabled') {
      document.body.classList.add('dark-mode');
      themeToggle.textContent = 'â˜€ï¸';
    }
    themeToggle.onclick = () => {
      const isDark = document.body.classList.toggle('dark-mode');
      localStorage.setItem('darkMode', isDark ? 'enabled' : '');
      themeToggle.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
    };

    // Ø§Ù„Ù„ØºØ©
    const langToggle = document.getElementById('lang-toggle');
    function applyLanguage(lang) {
      document.documentElement.lang = lang;
      document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
      document.querySelectorAll('[data-ar]').forEach(el => {
        const text = el.getAttribute(`data-${lang}`);
        el.textContent = text;
      });
      langToggle.textContent = lang === 'ar' ? 'English' : 'Ø¹Ø±Ø¨ÙŠ';
    }
    const savedLang = localStorage.getItem('siteLanguage') || 'ar';
    applyLanguage(savedLang);
    langToggle.onclick = () => {
      const next = localStorage.getItem('siteLanguage') === 'ar' ? 'en' : 'ar';
      localStorage.setItem('siteLanguage', next);
      applyLanguage(next);
    };

    // Ø§Ù„Ø´Ø§Øª Ø¨ÙˆØª
     const chatContainer = document.getElementById('chatbot-container');
     const chatMessages = document.getElementById('chat-messages');
     const suggestions = document.getElementById('chat-suggestions');

     const tips = [
  // FAQs
  {q_ar:'ÙƒÙŠÙ Ø£ØºÙŠØ± Ù„ØºØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŸ', a_ar:'Ø§Ø¶ØºØ· Ø²Ø± Ø§Ù„Ù„ØºØ© ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø£Ùˆ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©.', q_en:'How to change site language?', a_en:'Click the language button at the top to toggle AR/EN.'},
  {q_ar:'ÙƒÙŠÙ Ø£Ø·Ù„Ø¨ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ØŸ', a_ar:'Ø¨Ø¹Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ø¶ØºØ· "Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø²" ÙÙŠ ØµÙØ­Ø© Ø§Ù„ØªØ­Ù‚Ù‚.', q_en:'How to request a verification code?', a_en:'After signup, click "Send Code" on the verification page.'},
  {q_ar:'ÙƒÙŠÙ Ø£ØªØ§Ø¨Ø¹ Ù†Ù‚Ø§Ø·ÙŠ Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©ØŸ', a_ar:'ÙŠÙ…ÙƒÙ†Ùƒ Ø±Ø¤ÙŠØ© Ø§Ù„Ù†Ù‚Ø§Ø· ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ.', q_en:'How to track my earned points?', a_en:'You can view your points in the Profile page.'},
  {q_ar:'ÙƒÙŠÙ Ø£Ø¹Ø¯Ù„ Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠØŸ', a_ar:'Ø§Ø°Ù‡Ø¨ Ù„Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ø¶ØºØ· "ØªØ­Ø±ÙŠØ± Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ".', q_en:'How to edit my profile?', a_en:'Go to Settings and click "Edit Profile".'},
// Practical tips
  {q_ar:'Ø§ÙØµÙ„ Ù†ÙØ§ÙŠØ§ØªÙƒ Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¯ÙˆÙŠØ±', a_ar:'Ø§ÙƒØ³Ø¨ 5 Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ Ø¹Ø¨ÙˆØ© Ø¨Ù„Ø§Ø³ØªÙŠÙƒÙŠØ© ØªØ¹ÙŠØ¯ ØªØ¯ÙˆÙŠØ±Ù‡Ø§.', q_en:'Separate your waste for recycling', a_en:'Earn 5 points for each recycled plastic bottle.'},
  {q_ar:'Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§ÙÙ„Ø§Øª Ø£Ùˆ Ø§Ù„Ù‚Ø·Ø§Ø±Ø§Øª', a_ar:'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 10 Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ Ø±Ø­Ù„Ø© Ù…ÙˆØ§ØµÙ„Ø§Øª Ø¹Ø§Ù…Ø©.', q_en:'Use public transport', a_en:'Earn 10 points per ride.'},
  {q_ar:'Ø§Ù…Ø´Ù Ù„Ù…Ø³Ø§ÙØ§Øª Ù‚ØµÙŠØ±Ø©', a_ar:'Ø§ÙƒØ³Ø¨ 15 Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ ÙƒÙŠÙ„ÙˆÙ…ØªØ± ØªÙ…Ø´ÙŠÙ‡.', q_en:'Walk short distances', a_en:'Earn 15 points per km walked.'},
  {q_ar:'Ø§Ø±ÙƒØ¨ Ø§Ù„Ø¯Ø±Ø§Ø¬Ø© Ø¨Ø¯Ù„ Ø§Ù„Ø³ÙŠØ§Ø±Ø©', a_ar:'Ø§ÙƒØ³Ø¨ 20 Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ ÙƒÙŠÙ„ÙˆÙ…ØªØ± Ø¨Ø§Ù„Ø¯Ø±Ø§Ø¬Ø©.', q_en:'Bike instead of drive', a_en:'Earn 20 points per km cycled.'},
  {q_ar:'Ø§Ø²Ø±Ø¹ Ø´Ø¬Ø±Ø© ÙÙŠ Ø­Ø¯ÙŠÙ‚ØªÙƒ', a_ar:'Ø§ÙƒØ³Ø¨ 50 Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ Ø´Ø¬Ø±Ø© ØªØ²Ø±Ø¹Ù‡Ø§.', q_en:'Plant a tree', a_en:'Earn 50 points per tree planted.'},
  {q_ar:'Ø§Ø³ØªØ®Ø¯Ù… Ø£ÙƒÙŠØ§Ø³ Ù‚Ø§Ø¨Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…', a_ar:'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 5 Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ ÙƒÙŠØ³ ØªØ³ØªØ®Ø¯Ù…Ù‡.', q_en:'Use reusable bags', a_en:'Earn 5 points per reusable bag.'},
  {q_ar:'Ø§Ø´Ø±Ø¨ Ù…Ù† Ø²Ø¬Ø§Ø¬Ø© Ù‚Ø§Ø¨Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹Ø¨Ø¦Ø©', a_ar:'Ø§ÙƒØ³Ø¨ 5 Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ Ø²Ø¬Ø§Ø¬Ø©.', q_en:'Use refillable bottles', a_en:'Earn 5 points per refill.'},
  {q_ar:'Ø£Ø·ÙØ¦ Ø§Ù„Ø£Ø¶ÙˆØ§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬', a_ar:'Ø§ÙƒØ³Ø¨ 5 Ù†Ù‚Ø§Ø· ÙÙŠ ÙƒÙ„ Ù…Ø±Ø©.', q_en:'Turn off lights', a_en:'Earn 5 points each time.'},
  {q_ar:'Ø§Ø³ØªØ®Ø¯Ù… Ù…ØµØ§Ø¨ÙŠØ­ LED', a_ar:'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 10 Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ Ù…ØµØ¨Ø§Ø­ LED.', q_en:'Use LED bulbs', a_en:'Earn 10 points per bulb.'},
  {q_ar:'Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ù…Ø§Ù…Ø© ÙÙŠ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©', a_ar:'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 30 Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ ÙƒÙŠØ³ ØªÙ†Ø¸ÙÙ‡.', q_en:'Pick up litter', a_en:'Earn 30 points per bag of litter.'},
  {q_ar:'Ø£Ø¹Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆØ±Ù‚', a_ar:'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 3 Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ 5 ÙˆØ±Ù‚Ø§Øª.', q_en:'Reuse paper', a_en:'Earn 3 points per 5 sheets reused.'},
  {q_ar:'ÙˆÙØ± Ø§Ù„Ù…Ø§Ø¡ Ø¨Ø§Ù„Ø§Ø³ØªØ­Ù…Ø§Ù… Ø§Ù„Ø³Ø±ÙŠØ¹', a_ar:'Ø§ÙƒØ³Ø¨ 2 Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ 10 Ù„ØªØ±Ø§Øª Ù…Ø§Ø¡ ØªÙˆÙØ±Ù‡Ø§.', q_en:'Quick showers', a_en:'Earn 2 points per 10L saved.'},
  {q_ar:'Ø§Ø¨Ø¯Ø£ Ø¨ØªØ³Ù…ÙŠØ¯ Ø§Ù„Ù†ÙØ§ÙŠØ§Øª Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©', a_ar:'Ø§ÙƒØ³Ø¨ 10 Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ ÙƒØ¬Ù… Ø³Ù…Ø§Ø¯.', q_en:'Compost organic waste', a_en:'Earn 10 points per kg of compost.'},
  {q_ar:'Ø´Ø§Ø±Ùƒ ÙÙŠ ÙˆØ±Ø´Ø© Ø¹Ù…Ù„ Ø¨ÙŠØ¦ÙŠØ©', a_ar:'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 40 Ù†Ù‚Ø·Ø© Ø¹Ù†Ø¯ Ø­Ø¶ÙˆØ± ÙˆØ±Ø´Ø©.', q_en:'Attend eco workshop', a_en:'Earn 40 points per workshop.'},
];

    document.getElementById('chat-toggle-btn').addEventListener('click', () => {
      chatContainer.style.display = chatContainer.style.display === 'flex' ? 'none' : 'flex';
      if (suggestions.childElementCount === 0) {
        appendMessage('ğŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Staprog!', 'bot');
        showSuggestions();
      }
    });

    function showSuggestions() {
      suggestions.innerHTML = '';
      const lang = localStorage.getItem('siteLanguage') || 'ar';
      tips.forEach(item => {
        const btn = document.createElement('button');
        btn.textContent = lang === 'ar' ? item.q_ar : item.q_en;
        btn.style.padding = '0.3rem 0.6rem';
        btn.style.border = '1px solid var(--primary)';
        btn.style.borderRadius = '4px';
        btn.style.background = 'var(--primary)';
        btn.style.color = '#fff';
        btn.onclick = () => {
          const prompt = lang === 'ar' ? item.q_ar : item.q_en;
          const answer = lang === 'ar' ? item.a_ar : item.a_en;
          appendMessage(prompt, 'user');
          setTimeout(() => appendMessage(answer, 'bot'), 300);
        };
        suggestions.appendChild(btn);
      });
    }

     function appendMessage(msg, who) {
      const div = document.createElement('div');
      div.className = who === 'user' ? 'user-message' : 'bot-message';
      div.innerText = msg;
      chatMessages.appendChild(div);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
  </script>

</body>
</html>
